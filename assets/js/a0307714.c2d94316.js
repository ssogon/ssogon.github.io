"use strict";(self.webpackChunkmatdomabaem_blog=self.webpackChunkmatdomabaem_blog||[]).push([[751],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return k}});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=a.createContext({}),d=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},s=function(e){var n=d(e.components);return a.createElement(o.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),c=d(t),k=r,u=c["".concat(o,".").concat(k)]||c[k]||m[k]||i;return t?a.createElement(u,l(l({ref:n},s),{},{components:t})):a.createElement(u,l({ref:n},s))}));function k(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=c;var p={};for(var o in n)hasOwnProperty.call(n,o)&&(p[o]=n[o]);p.originalType=e,p.mdxType="string"==typeof e?e:r,l[1]=p;for(var d=2;d<i;d++)l[d]=t[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},2258:function(e,n,t){t.r(n),t.d(n,{assets:function(){return s},contentTitle:function(){return o},default:function(){return k},frontMatter:function(){return p},metadata:function(){return d},toc:function(){return m}});var a=t(87462),r=t(63366),i=(t(67294),t(3905)),l=["components"],p={title:"Stream API \ub72f\uc5b4\ubcf4\uae30",tags:["java","stream-api"]},o=void 0,d={permalink:"/blog/2022/01/09/Stream-API-\ub72f\uc5b4\ubcf4\uae30",source:"@site/blog\\2022-01-09-Stream-API-\ub72f\uc5b4\ubcf4\uae30\\index.md",title:"Stream API \ub72f\uc5b4\ubcf4\uae30",description:"Stream API\uc758 \ub300\ub7b5\uc801\uc778 \uc0c1\uc18d\ub3c4\ub97c \uadf8\ub824\ubcf4\uba74 \uc774\ub807\ub2e4.",date:"2022-01-09T00:00:00.000Z",formattedDate:"January 9, 2022",tags:[{label:"java",permalink:"/blog/tags/java"},{label:"stream-api",permalink:"/blog/tags/stream-api"}],readingTime:8.685,truncated:!0,authors:[],frontMatter:{title:"Stream API \ub72f\uc5b4\ubcf4\uae30",tags:["java","stream-api"]},prevItem:{title:"Puppeteer\ub97c \uc774\uc6a9\ud55c \ubc88\uc5ed\uae30 \ud06c\ub864\ub9c1 \uc608\uc81c",permalink:"/blog/2022/01/17/Puppeteer\ub97c-\uc774\uc6a9\ud55c-\ubc88\uc5ed\uae30-\ud06c\ub864\ub9c1-\uc608\uc81c"},nextItem:{title:"\uc77d\uae30 \uc26c\uc6b4 Comparable\ub97c \uc704\ud55c \uac04\ub2e8\ud55c \uc544\uc774\ub514\uc5b4",permalink:"/blog/2022/01/03/\uc77d\uae30-\uc26c\uc6b4-Comparable\ub97c-\uc704\ud55c-\uac04\ub2e8\ud55c-\uc544\uc774\ub514\uc5b4"}},s={authorsImageUrls:[]},m=[{value:"AbstractPipeline",id:"abstractpipeline",level:2},{value:"ReferencePipeline",id:"referencepipeline",level:3},{value:"Head",id:"head",level:4},{value:"StatelessOp",id:"statelessop",level:4},{value:"StatefulOp",id:"statefulop",level:4},{value:"TerminalOp",id:"terminalop",level:2},{value:"ForEachOp, ReduceOp, MatchOp, FindOp",id:"foreachop-reduceop-matchop-findop",level:3},{value:"Sink",id:"sink",level:2},{value:"ChainedReference",id:"chainedreference",level:3},{value:"Spliterator",id:"spliterator",level:2}],c={toc:m};function k(e){var n=e.components,t=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Stream API\uc758 \ub300\ub7b5\uc801\uc778 \uc0c1\uc18d\ub3c4\ub97c \uadf8\ub824\ubcf4\uba74 \uc774\ub807\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"AbstractPipeline\n\u2514\u2500\u2500 ReferencePipeline (implements Stream)\n    \u251c\u2500\u2500 Head\n    \u251c\u2500\u2500 StatefulOp\n    \u2514\u2500\u2500 StatelessOp\n\nTerminalOp\n\u251c\u2500\u2500 ForEachOp\n\u251c\u2500\u2500 ReduceOp\n\u251c\u2500\u2500 MatchOp\n\u2514\u2500\u2500 FindOp\n\nSink\n\u2514\u2500\u2500 ChainedReference\n")),(0,i.kt)("p",null,"\uc774 \uae00\uc5d0\uc11c \uc18c\uac1c\ud560 \uac83\ub4e4\ub9cc \ucd94\ub9b0 \uac83\uc73c\ub85c \uc2e4\uc81c\ub860 \ub354 \ubcf5\uc7a1\ud558\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\ub9c8\ud06c\ub2e4\uc6b4 \ud5e4\ub529(",(0,i.kt)("em",{parentName:"p"},"heading"),")\uc744 \uc0c1\uc18d\ub3c4\uc640 \uc77c\uce58\ud558\uac8c \uad6c\uc131\ud574 \ub193\uc558\uc73c\ub2c8 \ucc38\uace0\ud558\uba70 \ubcf4\uba74 \uc88b\uc744 \uac83\uc774\ub2e4."),(0,i.kt)("h2",{id:"abstractpipeline"},"AbstractPipeline"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"AbstractPipeline"),"\uc740 ",(0,i.kt)("strong",{parentName:"p"},"\uc2a4\ud2b8\ub9bc\uc744 \uad6c\uc131\ud558\ub294 \ud558\ub098\uc758 \ud30c\uc774\ud504\ub77c\uc778"),"\uc744 \ub098\ud0c0\ub0b8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"abstract class AbstractPipeline<E_IN, E_OUT, S extends BaseStream<E_OUT, S>>\n    extends PipelineHelper<E_OUT> implements BaseStream<E_OUT, S> {\n  private final AbstractPipeline sourceStage;\n  private final AbstractPipeline previousStage;\n  private AbstractPipeline nextStage;\n  ...\n}\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sourceStage"),": \uccab \ubc88\uc9f8 \ud30c\uc774\ud504\ub77c\uc778\uc5d0 \ub300\ud55c \ucc38\uc870\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"previousStage"),": \uc774\uc804 \ud30c\uc774\ud504\ub77c\uc778\uc5d0 \ub300\ud55c \ucc38\uc870\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"nextStage"),": \ub2e4\uc74c \ud30c\uc774\ud504\ub77c\uc778\uc5d0 \ub300\ud55c \ucc38\uc870\ub2e4.")),(0,i.kt)("p",null,"\uc774\ub7ec\ud55c \ud30c\uc774\ud504\ub77c\uc778 \ucc38\uc870\ub4e4\uc740 \ud30c\uc774\ud504\ub77c\uc778\uc744 \uc5f0\uacb0\ud558\uac70\ub098 \uc21c\ud68c\ud558\ub294 \uc6a9\ub3c4\ub85c \uc4f0\uc778\ub2e4."),(0,i.kt)("h3",{id:"referencepipeline"},"ReferencePipeline"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"ReferencePipeline"),"\ub294 ",(0,i.kt)("inlineCode",{parentName:"p"},"AbstractPipeline"),"\ub97c \uc0c1\uc18d\ud558\uace0 ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"Stream"),"\uc744 \uad6c\ud604\ud558\ub294 \ud074\ub798\uc2a4"),"\ub85c, \uc6b0\ub9ac\uac00 \uc798 \uc544\ub294 \uc911\uac1c \uc5f0\uc0b0\uc790(",(0,i.kt)("em",{parentName:"p"},"intermediate operations"),")\uc640 \uc885\ub8cc \uc5f0\uc0b0\uc790(",(0,i.kt)("em",{parentName:"p"},"terminal operations"),")\ub97c \ub9cc\ub098\ubcfc \uc218 \uc788\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"abstract class ReferencePipeline<P_IN, P_OUT>\n    extends AbstractPipeline<P_IN, P_OUT, Stream<P_OUT>>\n    implements Stream<P_OUT>  {\n  ...\n}\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\uc911\uac1c \uc5f0\uc0b0\uc790\ub294 \uc0c8\ub85c\uc6b4 \ud30c\uc774\ud504\ub77c\uc778\uc744 \ub9cc\ub4e4\uc5b4 \ud604\uc7ac \ud30c\uc774\ud504\ub77c\uc778\uacfc \uc5f0\uacb0\ud55c \ub4a4, \uc0c8\ub85c \ub9cc\ub4e0 \ud30c\uc774\ud504\ub77c\uc778\uc744 \ubc18\ud658\ud558\uc5ec \uba54\uc11c\ub4dc \uccb4\uc774\ub2dd\uc744 \uc774\uc5b4\uac08 \uc218 \uc788\ub3c4\ub85d \uc720\ub3c4\ud55c\ub2e4."),(0,i.kt)("li",{parentName:"ul"},"\uc885\ub8cc \uc5f0\uc0b0\uc790\ub294 ",(0,i.kt)("inlineCode",{parentName:"li"},"TerminalOp"),"\ub97c \ud1b5\ud574 \ubaa8\ub4e0 \ud30c\uc774\ud504\ub77c\uc778 \uc5f0\uc0b0\uc744 \uc218\ud589\ud558\uace0 \uc801\uc808\ud55c \uac12\uc744 \ubc18\ud658\ud55c\ub2e4.")),(0,i.kt)("p",null,"\ubaa8\ub4e0 \uc911\uac1c \uc5f0\uc0b0\uc790\ub4e4\uc740 \uc544\ub798 \ucf54\ub4dc\uc5d0\uc11c \ubcf4\uc774\ub294 \uac83\ucc98\ub7fc ",(0,i.kt)("inlineCode",{parentName:"p"},"opWrapSink()")," \uba54\uc11c\ub4dc\ub97c \uc7ac\uc815\uc758\ud55c \ud30c\uc774\ud504\ub77c\uc778\uc744 \ubc18\ud658\ud558\ub294\ub370, \uc774 ",(0,i.kt)("inlineCode",{parentName:"p"},"opWrapSink()")," \uba54\uc11c\ub4dc\ub294 \ucd94\ud6c4 ",(0,i.kt)("inlineCode",{parentName:"p"},"TerminalOp"),"\uc5d0 \uc758\ud574 \uc2e4\ud589\ub41c\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"@Override\npublic final Stream<P_OUT> filter(Predicate<? super P_OUT> predicate) {\n  Objects.requireNonNull(predicate);\n  return new StatelessOp<P_OUT, P_OUT>(this, StreamShape.REFERENCE, StreamOpFlag.NOT_SIZED) {\n    @Override\n    Sink<P_OUT> opWrapSink(int flags, Sink<P_OUT> sink) {\n      return new Sink.ChainedReference<P_OUT, P_OUT>(sink) {\n        @Override\n        public void begin(long size) {\n          downstream.begin(-1);\n        }\n\n        @Override\n        public void accept(P_OUT u) {\n          if (predicate.test(u)) {\n            downstream.accept(u);\n          }\n        }\n      };\n    }\n  };\n}\n")),(0,i.kt)("h4",{id:"head"},"Head"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Head"),"\ub294 ",(0,i.kt)("strong",{parentName:"p"},"\uccab \ubc88\uc9f8 \ud30c\uc774\ud504\ub77c\uc778"),"\uc744 \ub098\ud0c0\ub0b4\ub294 \ud074\ub798\uc2a4\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\uc77c\ubc18\uc801\uc73c\ub85c ",(0,i.kt)("inlineCode",{parentName:"p"},"Collection"),"\uc758 default \uba54\uc11c\ub4dc\uc778 ",(0,i.kt)("inlineCode",{parentName:"p"},"stream()"),"\uc5d0 \uc758\ud574 \uc0dd\uc131\ub41c\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"static class Head<E_IN, E_OUT> extends ReferencePipeline<E_IN, E_OUT> {\n  @Override\n  final boolean opIsStateful() {\n    throw new UnsupportedOperationException();\n  }\n  ...\n}\n")),(0,i.kt)("h4",{id:"statelessop"},"StatelessOp"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"StatelessOp"),"\ub294 ",(0,i.kt)("strong",{parentName:"p"},"\uc774\uc804 \uc694\uc18c\uc758 \uc601\ud5a5\uc744 \ubc1b\uc9c0 \uc54a\ub294 \ud30c\uc774\ud504\ub77c\uc778 \uc5f0\uc0b0"),"\uc744 \ub098\ud0c0\ub0b8\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"filter()"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"map()"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"peek()")," \uc5f0\uc0b0\uc774 \uc774\uc5d0 \ud574\ub2f9\ud55c\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"static class StatelessOp<E_IN, E_OUT> extends ReferencePipeline<E_IN, E_OUT> {\n  @Override\n  final boolean opIsStateful() {\n    return false;\n  }\n  ...\n}\n")),(0,i.kt)("h4",{id:"statefulop"},"StatefulOp"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"StatefulOp"),"\ub294 ",(0,i.kt)("strong",{parentName:"p"},"\uc774\uc804 \uc694\uc18c\uc758 \uc601\ud5a5\uc744 \ubc1b\ub294 \ud30c\uc774\ud504\ub77c\uc778 \uc5f0\uc0b0"),"\uc744 \ub098\ud0c0\ub0b8\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\uc0c1\ud0dc\ub97c \uac00\uc9c0\uae30 \ub54c\ubb38\uc5d0 \ubaa8\ub4e0 \uc694\uc18c\ub97c \ucc98\ub9ac\ud558\uae30 \uc804\uae4c\uc9c0\ub294 \uacb0\uacfc\ub97c \uc54c \uc218 \uc5c6\ub2e4\ub294 \ud2b9\uc9d5\uc774 \uc788\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"sorted()"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"distinct()"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"limit()"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"skip()")," \uc5f0\uc0b0\uc774 \uc774\uc5d0 \ud574\ub2f9\ud55c\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"static class StatefulOp<E_IN, E_OUT> extends ReferencePipeline<E_IN, E_OUT> {\n  @Override\n  final boolean opIsStateful() {\n    return true;\n  }\n  ...\n}\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"opIsStateful()"),"\uc740 \ubcd1\ub82c \ucc98\ub9ac\ub97c \ud574\uc57c\ud558\ub294 \uacbd\uc6b0 ",(0,i.kt)("inlineCode",{parentName:"p"},"Spliterator"),"\ub97c \uc870\uc815\ud558\uae30 \uc704\ud574 \uace0\ub824\ub41c\ub2e4."),(0,i.kt)("h2",{id:"terminalop"},"TerminalOp"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"TerminalOp"),"\ub294 ",(0,i.kt)("strong",{parentName:"p"},"\uc2a4\ud2b8\ub9bc\uc744 \uad6c\uc131\ud558\ub294 \ubaa8\ub4e0 \ud30c\uc774\ud504\ub77c\uc778 \uc5f0\uc0b0\ub4e4\uc744 \uc218\ud589\ud558\ub294 \uc5ed\ud560"),"\uc744 \ud55c\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\uc9c1\ub82c \uc5f0\uc0b0\uc5d0\ub294 ",(0,i.kt)("inlineCode",{parentName:"p"},"evaluateSequential()"),"\uc774, \ubcd1\ub82c \uc5f0\uc0b0\uc5d0\ub294 ",(0,i.kt)("inlineCode",{parentName:"p"},"evaluateParallel()"),"\uc774 \ud638\ucd9c\ub41c\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"interface TerminalOp<E_IN, R> {\n  default <P_IN> R evaluateParallel(PipelineHelper<E_IN> helper, Spliterator<P_IN> spliterator) {\n    ...\n    return evaluateSequential(helper, spliterator);\n  }\n\n  <P_IN> R evaluateSequential(PipelineHelper<E_IN> helper, Spliterator<P_IN> spliterator);\n  ...\n}\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"helper"),": \ub9c8\uc9c0\ub9c9 \ud30c\uc774\ud504\ub77c\uc778\uc774\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"spliterator"),": \uccab \ubc88\uc9f8 \ud30c\uc774\ud504\ub77c\uc778\uc758 ",(0,i.kt)("inlineCode",{parentName:"li"},"Spliterator"),"\ub2e4.")),(0,i.kt)("h3",{id:"foreachop-reduceop-matchop-findop"},"ForEachOp, ReduceOp, MatchOp, FindOp"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"ForEachOp"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"ReduceOp"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"MatchOp"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"FindOp"),"\ub294 \ubaa8\ub450 \uc2a4\ud2b8\ub9bc\uc758 \uc885\ub8cc \uc5f0\uc0b0\uc790\uc5d0 \uc758\ud574 \uc0dd\uc131\ub418\ub294 \ud30c\uc774\ud504\ub77c\uc778 \uc5f0\uc0b0 \uc218\ud589\uc790\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\ud55c \uc608\ub85c, ",(0,i.kt)("inlineCode",{parentName:"p"},"forEach()")," \uc885\ub8cc \uc5f0\uc0b0\uc790\ub294 ",(0,i.kt)("inlineCode",{parentName:"p"},"ForEachOp")," \uc218\ud589\uc790\ub97c \ud1b5\ud574 \uc2a4\ud2b8\ub9bc\uc744 \uad6c\uc131\ud558\ub294 \ubaa8\ub4e0 \ud30c\uc774\ud504\ub77c\uc778 \uc5f0\uc0b0\ub4e4\uc744 \uc218\ud589\ud55c\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"abstract static class ForEachOp<T> implements TerminalOp<T, Void>, TerminalSink<T, Void> {\n  @Override\n  public <S> Void evaluateSequential(PipelineHelper<T> helper,\n                                     Spliterator<S> spliterator) {\n    return helper.wrapAndCopyInto(this, spliterator).get();\n  }\n\n  @Override\n  public <S> Void evaluateParallel(PipelineHelper<T> helper,\n                                   Spliterator<S> spliterator) {\n    if (ordered)\n      new ForEachOrderedTask<>(helper, spliterator, this).invoke();\n    else\n      new ForEachTask<>(helper, spliterator, helper.wrapSink(this)).invoke();\n    return null;\n  }\n}\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"wrapAndCopyInto()")," \uba54\uc11c\ub4dc\uc758 \uad6c\ud604\uc740 ",(0,i.kt)("inlineCode",{parentName:"p"},"AbstractPipeline"),"\uc5d0\uc11c \ucc3e\uc544\ubcfc \uc218 \uc788\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"@Override\nfinal <P_IN, S extends Sink<E_OUT>> S wrapAndCopyInto(S sink, Spliterator<P_IN> spliterator) {\n  copyInto(wrapSink(Objects.requireNonNull(sink)), spliterator);\n  return sink;\n}\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"wrapSink()")," \uba54\uc11c\ub4dc\uc5d0\uc11c\ub294 \ud30c\uc774\ud504\ub77c\uc778\uc744 \uc5ed\uc21c\uc73c\ub85c \uc21c\ud68c\ud558\uba70 ",(0,i.kt)("inlineCode",{parentName:"p"},"opWrapSink()"),"\ub97c \ud638\ucd9c\ud55c\ub2e4.  "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"@Override\nfinal <P_IN> Sink<P_IN> wrapSink(Sink<E_OUT> sink) {\n  Objects.requireNonNull(sink);\n\n  for (AbstractPipeline p = AbstractPipeline.this; p.depth > 0; p = p.previousStage) {\n    sink = p.opWrapSink(p.previousStage.combinedFlags, sink);\n  }\n  return (Sink<P_IN>) sink;\n}\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"opWrapSink()"),"\ub294 \uc778\uc790\ub85c \ubc1b\uc740 ",(0,i.kt)("inlineCode",{parentName:"p"},"Sink"),"\ub97c \ub2e4\uc74c\uc5d0 \ucc98\ub9ac\ud560 ",(0,i.kt)("inlineCode",{parentName:"p"},"Sink"),"\ub85c\uc11c \ucc38\uc870\ud558\uace0 \uc788\ub294 ",(0,i.kt)("inlineCode",{parentName:"p"},"ChainedReference"),"\uc744 \ubc18\ud658\ud55c\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\uacb0\uacfc\uc801\uc73c\ub85c ",(0,i.kt)("inlineCode",{parentName:"p"},"wrapSink()"),"\ub294 \ubaa8\ub4e0 ",(0,i.kt)("inlineCode",{parentName:"p"},"Sink"),"\ub97c \uc5f0\uacb0\ud55c \ud558\ub098\uc758 \ub2e8\uc77c ",(0,i.kt)("inlineCode",{parentName:"p"},"ChainedReference"),"\ub97c \ubc18\ud658\ud558\uac8c \ub41c\ub2e4."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"copyInto()")," \uba54\uc11c\ub4dc\uc5d0\uc11c\ub294 \ubaa8\ub4e0 \ud30c\uc774\ud504\ub77c\uc778 \uc5f0\uc0b0\ub4e4\uc744 \uc218\ud589\ud55c\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"@Override\nfinal <P_IN> void copyInto(Sink<P_IN> wrappedSink, Spliterator<P_IN> spliterator) {\n  Objects.requireNonNull(wrappedSink);\n\n  if (!StreamOpFlag.SHORT_CIRCUIT.isKnown(getStreamAndOpFlags())) {\n    wrappedSink.begin(spliterator.getExactSizeIfKnown());\n    spliterator.forEachRemaining(wrappedSink);\n    wrappedSink.end();\n  }\n  else {\n    copyIntoWithCancel(wrappedSink, spliterator);\n  }\n}\n")),(0,i.kt)("p",null,"if \uc808\uc5d0 \ubcf4\uc774\ub294 ",(0,i.kt)("inlineCode",{parentName:"p"},"StreamOpFlag.SHORT_CIRCUIT"),"\ub294 \uc2a4\ud2b8\ub9bc\uc5d0 ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Short-circuit_evaluation"},"\ub2e8\ub77d \ud3c9\uac00"),"(",(0,i.kt)("em",{parentName:"p"},"short circuit evaluation"),")\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\ub294\uac00\ub97c \ub098\ud0c0\ub0b4\ub294 \ud50c\ub798\uadf8\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\ub9cc\uc57d \ub2e8\ub77d \ud3c9\uac00\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\ub2e4\uba74 ",(0,i.kt)("inlineCode",{parentName:"p"},"Sink"),"\uc758 ",(0,i.kt)("inlineCode",{parentName:"p"},"cancellationRequested()"),"\ub97c \uc774\uc6a9\ud574 \ud544\uc694\ud55c \ub9cc\ud07c\ub9cc \uc694\uc18c\ub97c \uc21c\ud68c\ud558\uac8c \ub41c\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"@Override\nfinal <P_IN> boolean copyIntoWithCancel(Sink<P_IN> wrappedSink, Spliterator<P_IN> spliterator) {\n  AbstractPipeline p = AbstractPipeline.this;\n  while (p.depth > 0) {\n    p = p.previousStage;\n  }\n\n  wrappedSink.begin(spliterator.getExactSizeIfKnown());\n  boolean cancelled = p.forEachWithCancel(spliterator, wrappedSink);\n  wrappedSink.end();\n  return cancelled;\n}\n\n@Override\nfinal boolean forEachWithCancel(Spliterator<P_OUT> spliterator, Sink<P_OUT> sink) {\n  boolean cancelled;\n  do { } while (!(cancelled = sink.cancellationRequested()) && spliterator.tryAdvance(sink));\n  return cancelled;\n}\n")),(0,i.kt)("h2",{id:"sink"},"Sink"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Sink"),"\ub294 ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("inlineCode",{parentName:"strong"},"Consumer"),"\uc758 \ud655\uc7a5")," \uac1c\ub150\uc73c\ub85c, ",(0,i.kt)("inlineCode",{parentName:"p"},"accept(T)")," \uc678\uc5d0 \uba87 \uac00\uc9c0 \uba54\uc11c\ub4dc\ub4e4\uc744 \ucd94\uac00\ub85c \uc815\uc758\ud558\uace0 \uc788\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"interface Sink<T> extends Consumer<T> {\n  default void begin(long size) {}\n  default void end() {}\n  default boolean cancellationRequested() {\n    return false;\n  }\n}\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"void begin(long)"),": \uc694\uc18c\ub97c \uc21c\ud68c\ud560 \uc900\ube44\uac00 \ub418\uc5c8\uc74c\uc744 \uc54c\ub9b0\ub2e4.",(0,i.kt)("br",{parentName:"li"}),"\uc608\uc0c1 \ud06c\uae30\ub97c \uc778\uc790\ub85c \ubc1b\ub294\ub2e4. (",(0,i.kt)("em",{parentName:"li"},"\uc54c \uc218 \uc5c6\ub2e4\uba74 -1"),")"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"void accept(T)"),": \uc694\uc18c\ub97c \ucc98\ub9ac\ud55c\ub2e4.",(0,i.kt)("br",{parentName:"li"}),"\uc774\ub294 \uac01 \uc911\uac1c \uc5f0\uc0b0\uc790\uc5d0\uc11c \uad6c\ud604\ud574\uc57c \ud560 \uc0ac\ud56d\uc774\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"void end()"),": \uc21c\ud68c\uac00 \ub05d\ub0ac\uc74c\uc744 \uc54c\ub9b0\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"boolean cancellationRequested()"),": \ud604\uc7ac \uc2a4\ud15d\uc5d0\uc11c \uc21c\ud68c\ub97c \uba48\ucdb0\uc57c \ud558\ub294\uc9c0\ub97c \ubc18\ud658\ud55c\ub2e4.",(0,i.kt)("br",{parentName:"li"}),"\uc774\ub294 ",(0,i.kt)("inlineCode",{parentName:"li"},"limit()"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"findFirst()"),"\ucc98\ub7fc \ub2e8\ub77d \ud3c9\uac00\ub97c \ud558\ub294 \uba54\uc11c\ub4dc\uc5d0\uc11c\ub9cc \uc7ac\uc815\uc758\ud558\uace0 \uc788\ub2e4.")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"begin(long)"),"\uacfc ",(0,i.kt)("inlineCode",{parentName:"p"},"end()"),"\ub294 \ubcf4\ud1b5 \uc0c1\ud0dc\ub97c \uac00\uc9c0\ub294 \uacbd\uc6b0\uc5d0\ub9cc \uc7ac\uc815\uc758\ud574\uc11c \uc0ac\uc6a9\ud55c\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\ucc38\uace0\ub85c, stateful \uc5f0\uc0b0\uc778 ",(0,i.kt)("inlineCode",{parentName:"p"},"sorted()"),"\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \uad6c\ud604\ub418\uc5b4 \uc788\ub2e4."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"void begin(long)"),": \uc608\uc0c1 \ud06c\uae30 ",(0,i.kt)("inlineCode",{parentName:"li"},"long"),"\ub9cc\ud07c\uc758 \ubc30\uc5f4\uc744 \uc0dd\uc131\ud55c\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"void accept(T)"),": \ubc30\uc5f4\uc5d0 ",(0,i.kt)("inlineCode",{parentName:"li"},"T"),"\ub97c \ud558\ub098\uc529 \ucc44\uc6cc\ub123\ub294\ub2e4."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"void end()"),": \ubc30\uc5f4\uc744 \uc815\ub82c\ud55c\ub2e4.")),(0,i.kt)("h3",{id:"chainedreference"},"ChainedReference"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"ChainedReference"),"\ub294 ",(0,i.kt)("strong",{parentName:"p"},"\ub2e4\uc74c ",(0,i.kt)("inlineCode",{parentName:"strong"},"Sink"),"\uc5d0 \ub300\ud55c \ucc38\uc870\ub97c \uac00\uc9c0\uace0 \uc788\ub294 ",(0,i.kt)("inlineCode",{parentName:"strong"},"Sink"),"\ub2e4.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"abstract static class ChainedReference<T, E_OUT> implements Sink<T> {\n  protected final Sink<? super E_OUT> downstream;\n\n  public ChainedReference(Sink<? super E_OUT> downstream) {\n    this.downstream = Objects.requireNonNull(downstream);\n  }\n\n  @Override\n  public void begin(long size) {\n    downstream.begin(size);\n  }\n\n  @Override\n  public void end() {\n    downstream.end();\n  }\n\n  @Override\n  public boolean cancellationRequested() {\n    return downstream.cancellationRequested();\n  }\n}\n")),(0,i.kt)("h2",{id:"spliterator"},"Spliterator"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Spliterator"),"\ub294 \uc2a4\ud2b8\ub9bc\uc758 \ubcd1\ub82c \ud30c\uc774\ud504\ub77c\uc774\ub2dd \ucc98\ub9ac\ub97c \uc704\ud574 \uace0\uc548\ub41c \ud074\ub798\uc2a4\ub85c, ",(0,i.kt)("inlineCode",{parentName:"p"},"Iterable"),"\uc744 \uad6c\uc131\ud558\ub294 \uc694\uc18c\ub4e4\uc744 \uc808\ubc18\uc73c\ub85c \ub098\ub204\ub294 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Spliterator<Integer> origin = IntStream.rangeClosed(1, 10).spliterator();\nSpliterator<Integer> dest = origin.trySplit();\norigin.forEachRemaining(System.out::println); // [6, 7, 8, 9, 10]\ndest.forEachRemaining(System.out::println); // [1, 2, 3, 4, 5]\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"Collection"),"\uc758 ",(0,i.kt)("inlineCode",{parentName:"p"},"parallelStream()"),"\uc744 \ud1b5\ud574 \ubcd1\ub82c \uc2a4\ud2b8\ub9bc\uc744 \uc0dd\uc131\ud55c \uac83\uc774 \uc544\ub2c8\ub77c\uba74 \ucabc\uac1c\uc9c8 \uc77c\uc740 \uc5c6\ub2e4."))}k.isMDXComponent=!0}}]);